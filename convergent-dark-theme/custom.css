/* ============================================
   Convergent Solutions Dark Mode Theme (MVP)
   Version: 1.0.1-mvp-fix
   Author: Convergent Solutions
   ============================================ */

:root {
   /* Brand Colors */
   --cs-primary: #0066cc;
   /* Core Blue */
   --cs-secondary: #00cc99;
   /* Teal Accent */
   --cs-accent: #ff6b35;
   /* Orange Accent */

   /* Dark Options */
   --bg-dark: #1a1a1a;
   --bg-darker: #111111;
   --bg-sidebar: #0f172a;
   /* Slate 900 */
   --bg-hover: #1e293b;
   /* Slate 800 */

   /* Text */
   --text-primary: #ffffff;
   --text-muted: #94a3b8;
   /* Slate 400 */
}

/* 1. Global Reset - Force Dark Mode */
* {
   border-color: #334155 !important;
   /* Slate 700 borders */
}

body,
html {
   background-color: var(--bg-dark) !important;
   color: var(--text-primary) !important;
}

/* 1.1 Force override Tailwind white backgrounds */
.bg-white,
.dark\:bg-gray-900,
.bg-gray-50,
.bg-gray-100 {
   background-color: var(--bg-dark) !important;
   color: var(--text-primary) !important;
}

.text-gray-900,
.text-black,
.text-gray-800,
.text-gray-700 {
   color: var(--text-primary) !important;
}

.text-gray-500,
.text-gray-600 {
   color: var(--text-muted) !important;
}

/* 2. Sidebar Implementation */
#sidebar,
.sidebar {
   background-color: var(--bg-sidebar) !important;
   border-right: 1px solid #334155 !important;
}

/* Sidebar hover states */
#sidebar button:hover,
#sidebar a:hover,
#sidebar .group:hover {
   background-color: var(--bg-hover) !important;
   color: var(--text-primary) !important;
}

/* 3. Button Styling */
button[type="submit"],
#send-message-button {
   background-color: var(--cs-primary) !important;
   color: white !important;
}

button[type="submit"]:hover,
#send-message-button:hover {
   filter: brightness(110%);
}

/* 4. Chat Interface */
/* User Message Bubble */
.user-message,
.message-user {
   background: linear-gradient(135deg, var(--cs-primary), var(--cs-secondary)) !important;
   color: white !important;
   border: none !important;
}

/* AI Message Bubble */
.ai-message,
.message-assistant {
   background-color: var(--bg-hover) !important;
   color: var(--text-primary) !important;
}

/* 5. Dropdowns & Toggles */
.dropdown-content,
[role="menu"],
.bg-white.shadow-xl {
   background-color: var(--bg-sidebar) !important;
   border: 1px solid #334155 !important;
   color: var(--text-primary) !important;
}

[role="switch"][aria-checked="true"] {
   background-color: var(--cs-secondary) !important;
}

/* 6. Form Inputs */
input,
textarea,
select {
   background-color: var(--bg-darker) !important;
   color: var(--text-primary) !important;
   border: 1px solid #334155 !important;
}

input:focus,
textarea:focus,
select:focus {
   border-color: var(--cs-primary) !important;
   outline: 2px solid var(--cs-primary) !important;
}

/* 7. Tooltips */
.tippy-box {
   background-color: var(--bg-sidebar) !important;
   border: 1px solid #334155 !important;
}

.tippy-content {
   color: var(--text-primary) !important;
}

/* 8. Scrollbars */
::-webkit-scrollbar {
   width: 8px;
   height: 8px;
}

::-webkit-scrollbar-track {
   background: var(--bg-dark);
}

::-webkit-scrollbar-thumb {
   background: #475569;
   border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
   background: #64748b;
}

/* 9. Header Fixes [NEW] */
/* Fix white header gradient on sticky nav */
nav.sticky,
.sticky.top-0 {
   background-color: var(--bg-dark) !important;
}

nav.sticky .from-white,
nav.sticky .via-white,
.from-white,
.via-white,
.bg-linear-to-b.from-white,
.bg-gradient-to-b.from-white {
   --tw-gradient-from: var(--bg-dark) !important;
   --tw-gradient-to: var(--bg-dark) !important;
   --tw-gradient-stops: var(--bg-dark), var(--bg-dark) !important;
   background-image: none !important;
   background-color: var(--bg-dark) !important;
}

/* Ensure header text is visible */
nav.sticky .text-gray-500,
nav.sticky .text-gray-900 {
   color: var(--text-primary) !important;
}